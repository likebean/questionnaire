# 三步对《功能规格.md》覆盖检查

> 检查三步范围说明（问卷第一步、第二步、第三步）是否合起来覆盖《功能规格.md》的全部章节；标注已覆盖、部分覆盖、未覆盖及建议补充。

---

## 一、用户与账号（功能规格 一）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 1.1 注册与登录（CAS/本地账号） | — | — | — | **未在三步中显式写**。若项目已实现用户/CAS 登录，建议在第一步或总则中注明「**依赖现有用户与 CAS 登录**」；否则需在某步纳入。 |
| 1.2 个人中心（基本信息、我的问卷列表） | ✓ | 沿用 | 沿用 | 第一步：我的问卷列表、按状态筛选、搜索排序。 |
| 1.3 权限与归属（创建者、仅创建者可编辑/查看/导出/复制/删除） | ✓ | 沿用 | 沿用 | 第一步已覆盖。 |

**结论**：1.2、1.3 已覆盖；1.1 建议在第一步或项目总说明中注明「依赖现有用户体系与登录（含 CAS）」。

---

## 二、高校对接（功能规格 二）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 2.1 目标与范围 | — | — | — | 总体目标，三步整体满足即可。 |
| 2.2 CAS 统一认证对接 | 依赖 | 沿用 | 沿用 | 防重复按「登录用户 ID」即依赖 CAS/用户体系；建议注明「**依赖现有 CAS 对接**」。 |
| 2.3 用户体系对接（身份、院系） | 依赖 | 沿用 | 沿用 | 同上；按院系统计等在第三步。 |
| 2.4 权限与范围（按身份/院系控制） | — | — | ✓ 部分 | 第三步有「数据权限与脱敏、协作」；**建议第三步显式补**「按身份控制（如仅教职工可创建）」「按院系/单位控制（本院系可见）」与 2.10 院系权限模型。 |
| 2.5 组织与权限体系（角色、数据隔离、日志、转移、协作） | — | — | ✓ | 第三步：操作日志与审计、问卷转移、团队协作。 |
| 2.6 填写端与防重复（登录后填写、防重复、匿名） | ✓ | 沿用 | 沿用 | 第一步：按用户 ID 防重复、匿名开关。 |
| 2.7 运维与安全（HTTPS、备份与恢复、合规） | — | — | 未列 | **建议第三步**「权限与运维」中补「**运维与安全**（备份与恢复策略、合规要求等，按需）」。 |
| 2.8 数据权限分级与审计（可见范围、脱敏、审批导出、日志） | — | — | ✓ | 第三步：操作日志、数据权限与脱敏。审批导出、密级可标为「按需」。 |
| 2.9 企业级集成（API、Webhook、CAS、私有化、多环境） | — | — | ✓ | 第三步：API/Webhook；CAS/私有化/多环境多为部署层面，可注明「按需」。 |
| 2.10 院系与权限设计（租户、院系树、角色+数据范围） | — | — | 部分 | 第三步有权限与协作，**未显式写**租户、院系树、角色（校管/院系管理员/普通用户）。若已在前序项目实现，三步沿用即可；否则建议第三步补「**院系与权限模型**（角色、数据范围、院系树）（按需）」。 |

**结论**：2.6、2.5、2.8、2.9 已覆盖；2.2/2.3 建议注明依赖现状；2.4、2.7、2.10 建议在第三步中补一条或注明「依赖现有院系与权限实现」。

---

## 三、问卷编辑（功能规格 三）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 3.1 问卷基础信息（标题、说明、封面图、状态、应用类型） | ✓ 标题/说明/状态 | 沿用 | 沿用 | 封面图、应用类型第一步明确不做；**建议第三步**「可选」中补「问卷封面图、应用类型」。 |
| 3.2.1 基础题型（单选/多选/填空/量表/下拉/矩阵/排序/日期/时间/段落/分页符/比重/上传/表格/投票/多级下拉等） | ✓ 前4种 | ✓ 下拉、矩阵、排序、日期、时间、段落、分页符 | ✓ 比重、上传、表格、投票、多级下拉等 | 三步合起来覆盖 3.2.1 主要题型；3.2.2/3.2.3 高级与调研题型规格未要求必做，可不在三步内。 |
| 3.3 题目通用设置（题干、必填、选项、选项引用、计算公式、数学公式） | ✓ 题干/必填/选项/排序 | ✓ 选项引用、必填逻辑 | ✓ 变量与公式 | 选项引用、必填逻辑在第二步；**管道引用**（题干中引用前题答案）规格 3.5 有，**建议第三步**逻辑进阶中补「管道引用（可选）」。 |
| 3.4 题型专属设置（选项随机、填空校验、矩阵设置、量表设置等） | 部分 | ✓ 矩阵等 | ✓ 按需 | 第一步不做填空校验、选项随机；第二步有矩阵设置；第三步可补「选项随机、填空校验类型（按需）」。 |
| 3.5 逻辑设置（跳题、题目关联、选项关联、选项引用、反向、必填逻辑、多条件、随机抽题、循环、变量公式、评分、条件嵌套） | — | ✓ 跳题、题目显隐、选项显隐、选项引用、必填、多条件 | ✓ 反向、随机抽题、循环、公式、评分、条件嵌套 | 管道引用见上。 |
| 3.6 问卷级设置（分页、时间、回收与配额、防重复、质量控制、提交设置、密码、红包等） | ✓ 防重复/匿名/开始结束时间/感谢语 | ✓ 分页、单次限时、最大回收数 | ✓ 配额、答题时间控制、问卷密码等 | **建议**：第一步或第二步补「**提交后跳转链接**」「**自定义感谢页**」（可选），规格 3.6 有。 |
| 3.7 外观与展示 | — | — | ✓ | 第三步已列。 |
| 3.8 批量与效率（批量录入、批量替换、题库、一键录入） | — | — | ✓ 从文本导入、题库 | **建议第三步**补「**批量替换问卷内容**」「**一键录入/代录**」（按需）。 |
| 3.9 题目与问卷操作（保存、发布、暂停、结束、复制、删除；从模板创建；发布后结构变更） | ✓ 保存/发布/暂停/开启/结束/复制/删除；发布后改题目 | 沿用；复制含逻辑与题型 | 沿用；从模板在第三步 | 第一步已写发布后允许改题目及提示。 |
| 3.10 AI 辅助 | — | — | ✓ 按需 | 第三步已列。 |
| 3.11 高校不适用功能 | — | — | — | 规格建议不做，三步可不列。 |
| 3.12 考试与测评 | — | — | ✓ | 第三步已列。 |

**结论**：三、问卷编辑 绝大部分覆盖。建议补：3.1 封面图/应用类型（第三步可选）、3.5 管道引用（第三步可选）、3.6 提交后跳转链接与自定义感谢页（第一步或第二步可选）、3.8 批量替换与一键录入（第三步按需）。

---

## 四、发放与回收（功能规格 四）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 4.1.1 链接与二维码（固定链接、短链接、二维码、海报） | ✓ 固定链接、复制链接 | 沿用 | 沿用 | 第一步不做二维码；**建议第三步**「发放与集成」补「**二维码、二维码海报**（可选）」。 |
| 4.1.2 嵌入（iframe、JS） | 不做 | — | 未列 | **建议第三步**补「**iframe/JS 嵌入**（可选）」或明确不纳入。 |
| 4.1.3 自定义链接参数、预填、免登录链接 | 不做 | — | 未列 | **建议第三步**补「**自定义来源参数、预填、免登录/签名链接**（可选，与 API 配合）」。 |
| 4.2 邀请方式（短信、邮件、微信） | 不做 | — | 未列 | 规格称高校可弱化；建议在第三步或总说明中写「**4.2 短信/邮件/微信邀请**不纳入或 P3」。 |
| 4.3 填写限制与入口控制 | — | — | 未列 | 可选；第三步防作弊可部分覆盖。 |
| 4.4 防重复（多种方式） | ✓ 同一用户 | 沿用 | 沿用 | 第一步按用户 ID；密码列表、短信验证码、IP、设备等可第三步「防作弊/防重复增强」按需。 |
| 4.5 回收控制与配额 | 部分 时间 | ✓ 单次限时、最大回收数 | ✓ 配额规则、每日配额 | 已覆盖。 |
| 4.6 质量控制 | — | — | ✓ | 第三步：答题时间控制、自动筛选等。 |
| 4.7 填写端体验（断点续答、每题自动保存、允许修改已提交、错误提示自定义等） | ✓ 基本展示、必填、感谢页 | ✓ 分页、限时、逻辑 | — | **建议第三步**补「**断点续答、每题自动保存、允许填写者修改已提交答卷**（可选）」及「错误提示可自定义（可选）」；规格 4.7 有。 |
| 4.8 回收监控与来源分析 | — | — | 未列 | **建议第三步**补「**回收监控与答卷来源分析**（实时回收数、按渠道/来源统计）（按需）」。 |
| 4.9 样本管理（名单导入、状态跟踪、完成率） | — | — | 未列 | **建议第三步**补「**样本管理**（样本名单、填写状态、完成率）（按需）」。 |

**结论**：四、发放与回收 核心已覆盖。建议补：4.1 二维码/预填/iframe/免登录（第三步可选）、4.7 断点续答/自动保存/修改已提交（第三步可选）、4.8 来源分析、4.9 样本管理（第三步按需）；4.2 明确不纳入或 P3。

---

## 五、数据与统计（功能规格 五）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 5.1 答卷列表与查看（字段、标记无效、编辑、修改记录、筛选、导出范围、版本号、快照、分享特定条件、数据合并导入、成绩分布） | ✓ 列表、分页、详情 | ✓ 标记无效、编辑、修改记录、按答案筛选、导出仅有效/筛选 | ✓ 版本号、快照、多维度；未列合并导入、分享特定条件 | **建议第三步**补「**按当前筛选导出/分享特定条件数据**」「**数据合并导入**（Excel 补充答卷）（按需）」；成绩分布第三步考试场景已含。 |
| 5.2 分类统计 | — | ✓ 按题目选项 | ✓ 多维度、按地区/来源 | 已覆盖。 |
| 5.3 单题统计与图表 | ✓ | ✓ 含矩阵/排序/日期时间 | 沿用 | 已覆盖。 |
| 5.4 交叉分析 | — | ✓ 两题交叉 | ✓ 自定义数据源等 | 已覆盖。 |
| 5.5 自定义查询 | — | — | ✓ | 已覆盖。 |
| 5.6 导出（Excel/CSV/SPSS、调查报告、导出范围、版本化） | ✓ Excel | ✓ 仅有效/筛选 | ✓ 版本号、快照、调查报告、SPSS/CSV | 已覆盖。 |
| 5.7 高级分析 | — | — | ✓ | 已覆盖。 |
| 5.8 测评报告与考试场景 | — | — | ✓ | 第三步考试与测评。 |
| 5.9 效率工具 | — | — | 可选 | 可第三步可选。 |
| 5.10 数据安全与隐私（隐藏参与者信息、加密存储、分享权限、子账号数据视图、数据归档） | — | — | ✓ 脱敏、权限 | **建议第三步**补「**数据归档**（归档后只读、不可删改）」「**加密存储/子账号数据视图**（按需）」；规格 5.10、数据归档为高校刚需。 |
| 5.7 大数据量性能策略（异步统计、缓存、流式导出、分片下载） | — | — | 未列 | **建议第三步**或架构说明中补「**大数据量策略**（异步统计、缓存、流式导出）（按需）」。 |

**结论**：五、数据与统计 基本覆盖。建议补：5.1 数据合并导入、分享特定条件；5.10 数据归档、加密存储/子账号视图；5.7 大数据量策略（按需）。

---

## 六、模板与复用（功能规格 六）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 6.1 创建入口（空白、从模板、导入文本、复制） | ✓ 复制 | 沿用 | ✓ 从模板、从文本 | 已覆盖。 |
| 6.2 系统内置模板与模板库 | — | — | ✓ | 已覆盖。 |
| 6.3 企业/校内模板库 | — | — | ✓ | 已覆盖。 |
| 6.4 复制问卷 | ✓ | ✓ 含逻辑与题型 | 沿用 | 已覆盖。 |
| 6.5 从文本/Word 导入 | — | — | ✓ | 已覆盖。 |
| 6.6 单题复制与题库 | ✓ 复制题目 | 沿用 | ✓ 题库 | 已覆盖。 |
| 6.7 多层级文件夹（问卷管理） | — | — | 未列 | **建议第三步**补「**多层级文件夹/问卷分类管理**（可选）」；规格 6.7 有。 |

**结论**：六、模板与复用 已覆盖主体；建议第三步补 6.7 多层级文件夹（可选）。

---

## 七、其他与全局（功能规格 七）

| 规格条目 | 第一步 | 第二步 | 第三步 | 说明 |
|----------|--------|--------|--------|------|
| 7.1 问卷状态与生命周期（草稿、收集中、暂停回收、重新开启、已结束） | ✓ | 沿用 | 沿用 | 第一步已写四态与暂停/重新开启。 |
| 7.2 异常与限制 | ✓ | 沿用 | 沿用 | 第一步已写。 |
| 7.3 管理端（平台管理员、基础统计） | — | — | 未列 | **建议**在第三步或总说明中写「**7.3 管理端**不纳入或第三步可选」。 |
| 7.4 帮助与说明 | — | — | 未列 | 可选，可不在三步内。 |
| 7.5 商业化功能 | — | — | — | 规格建议高校可不做，不必纳入。 |
| 7.6 系统通知（结束提醒、配额达上限、导出完成、审批通知等） | — | — | 未列 | **建议第三步**补「**系统通知**（问卷结束、配额达上限、导出完成等）（可选）」；规格 7.6 有。 |

**结论**：7.1、7.2 已覆盖；7.3、7.4、7.6 建议在第三步或总说明中列为「可选/不纳入」。

---

## 八、功能优先级建议（功能规格 八）

仅为排期参考，不必在步骤中逐条实现；三步划分已体现 P0/P1/P2 思路。

---

## 总体结论与建议

- **三步合起来**对《功能规格.md》的**主体能力已覆盖**：用户与问卷基础、题型与逻辑、分页与限时、答卷管理与分类/交叉分析、模板与题库、外观、权限与审计、考试与集成等均有对应。
- **建议补充与注明**（在第三步或总说明中，以「可选/按需」为主）：
  1. **依赖说明**：第一步或总则注明「依赖现有用户与 CAS 登录」「依赖现有院系与权限（若已实现）」。
  2. **二、高校对接**：第三步显式补 2.4 按身份/院系控制、2.7 运维与安全（备份与恢复）、2.10 院系与权限模型（按需）。
  3. **三、问卷编辑**：3.1 封面图/应用类型（可选）；3.5 管道引用（可选）；3.6 提交后跳转链接、自定义感谢页（可选）；3.8 批量替换、一键录入（按需）。
  4. **四、发放与回收**：4.1 二维码、预填、iframe、免登录（可选）；4.2 邀请方式 不纳入或 P3；4.7 断点续答、自动保存、允许修改已提交（可选）；4.8 来源分析、4.9 样本管理（按需）。
  5. **五、数据与统计**：5.1 数据合并导入、分享特定条件；5.10 数据归档、加密存储/子账号视图；5.7 大数据量策略（按需）。
  6. **六、模板与复用**：6.7 多层级文件夹（可选）。
  7. **七、其他**：7.3 管理端、7.6 系统通知（可选或不纳入）。

完成上述补充后，**三步即可视为对《功能规格.md》的完整覆盖**（不含明确不做的商业化、高校不适用功能等）。
